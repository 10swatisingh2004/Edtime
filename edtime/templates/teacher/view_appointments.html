{% extends 'base_generic.html' %}

{% block content %}
  <h2>Appointments</h2>

  <table>
    <thead>
      <tr>
        <th>Student</th>
        <th>Date</th>
        <th>Status</th>
        <th>Message</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for appointment in appointments %}
        <tr>
          <td>{{ appointment.student.username }}</td>
          <td>{{ appointment.date }}</td>
          <td>{{ appointment.status }}</td>
          <td>{{ appointment.message }}</td>
          <td>
            {% if appointment.status == "Pending" %}
              <a href="{% url 'approve_cancel_appointment' appointment.id 'approve' %}">Approve</a> |
              <a href="{% url 'approve_cancel_appointment' appointment.id 'cancel' %}">Cancel</a>
            {% else %}
              N/A
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="5">No appointments available.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
